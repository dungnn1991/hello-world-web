import t from'./../../../external/@swc/helpers/src/_async_to_generator.mjs.js';import o from"../../call/index.js";import i from"../../../utils/lodash.js";import n from"./getSetting.js";import{__generator as s}from'./../../../external/tslib/tslib.es6.js';import e from"../../../appEnv/getEnv.js";var r,u=(r=t((function(t){return s(this,(function(s){return[2,new Promise((function(s,r){o("MP_USER_AUTHORIZE",{scopes:t,forceUpdate:!0},{success:function(t){var o,r;i.isEmpty(t)?(null===(o=e())||void 0===o||null===(r=o.platform)||void 0===r?void 0:r.isIOS)&&setTimeout((function(){n().then((function(t){t&&s(t.authSetting)}))}),1e3):s(t)},fail:function(t){r(t)}},{isMultiCallback:!0,timeout:!1})}))]}))})),function(t){return r.apply(this,arguments)});export{u as default};
